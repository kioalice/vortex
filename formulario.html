<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>black stones</title>
    <link rel="icon" type="image/png" href="img/logos/black stones.png">
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="stylesheet" href="css/fontello.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=New+Tegomin&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/formulario.css">
    
    
</head>
<body>
    <header>
        <input type="checkbox" name="" id="menu-bar">
        <label class="icon-align-justify" for="menu-bar"></label>
        <nav class="menu">
            <a href="index.html">Home</a>
            <a href="Quienes_somos.html">Quienes somos</a>
            <a href="Servicios.html">Servicios</a>
            <a href="galeria.html">Galeria</a>
            <a href="formulario.html">Agenda tu hora</a>
            <a href="empleo.html">Trabaja con nosotros</a>
            <a href="tienda.html">Tienda</a>
        
        </nav>

        <nav id="contenedor-logo-principal">
            <img src="img/logos/black stones.png" alt="">
            <h1>Black Stones Barber</h1>
            
        </nav>
        
        
        
        
    </header>

    <main>
        <div class="banner">
            <div class="contenedor">
                
                <h2>Black Stones Barber</h2>
                <p>Buscas tu corte ideal, atrevete con nosotras!</p>
                <a href="informaciones.html">Informaciones</a>
            </div>


        </div> 
        <section id="bienvenida">
            <h2>Agenda tu hora con nosotras y evita esperas</h2>
        </section>
        <section id="agendamiento">
            <form class="agenda-registro" action="" method="post">

                <h2 class="agenda-titulo">Creación de cuenta usuario</h2>
                <div class="contenedor-input">
                    <input class="col-sm" type="text" name="txtRut" id="txtRut" placeholder="Ingrese Rut">
                    <input class="col-xl" type="text" name="txtNombreCompleto" id="" placeholder="Ingrese Nombre y apellido">
                    <input class="col-sm" type="email" name="txtEmail" id="" placeholder="Ingrese Email">
                    <input class="col-sm" type="password" name="txtPass" id="" placeholder="Ingrese password">
                    <input class="col-sm" type="text" name="txtFono" id="" placeholder="Ingrese telefono">
                    <input class="col-sm" type="date" name="fecAgenda" id="">
                    <label>Sucursal:</label>
                    <select>
                        <option value="">Maipú</option>
                        <option value="">Ñuñoa</option> 
                        <option value="">Puente alto</option>
                        <option value="">Santiago</option> 
                    </select>
                    
                
                
                    <input class="btn-registrar" type="submit" value="Registrar">
                    <input class="btn-registrar" type="button" value="Validar Agenda" 
                    onclick="validarFormulario()">
                    <input type="button" value="Grabar" onclick="grabar()">
                    <input type="button" value="Listar" onclick="listar()">
                </div>

            </form>
        </section>
        

    </main>
    <script src="js/usuario.js"></script>
    <script>
        var arreglo =new Array();

        var index = 0;



        function grabar() {

            var rut = document.getElementById('txtRut').value;

            var nombre = document.getElementById('txtNombreCompleto').value;

            var fecha = document.getElementById('fecAgenda').value;

            var email = document.getElementById('txtEmail').value;

            usu = new usuario();

            usu.setRut(rut);

            usu.setNombre(nombre);

            usu.setEmail(email);

            usu.setFecha(fecha);

            console.log('Nombre:' + usu.getNombre());

            arreglo[index] = JSON.stringify(usu);

            localStorage.setItem('registro', arreglo);

            index++;

            alert('usuario almacenado');

        }

        function listar() {

            var tabla = "<table border=1>";

            tabla = tabla + "<tr> <td>Rut</td> <td>Nombre</td> <td>Email</td> </tr>";

            var datos = localStorage.getItem('registro');

            var arreglo_temp = new Array();

            datos = datos.split("},{").join("};{");

            arreglo_temp = datos.split(";");

            for (let index = 0; index < arreglo_temp.length; index++) {

                var reg = arreglo_temp[index];

                var usu = JSON.parse(reg);

                tabla = tabla + "<tr> <td>" + usu.rut + "</td> <td>" + usu.nombrecompleto + "</td> <td>" + usu.email + "</td> </tr>";

            }

            tabla = tabla + "</table>";

            document.getElementById('listado').innerHTML = tabla;

        }
        
    </script>
    <footer>
        <div class="contenedor">
            <p>®Black stones barber 2021- Sitio web</p>
        </div>
    </footer>
    
 <script src="js/scripts.js"></script>

</body>
</html>